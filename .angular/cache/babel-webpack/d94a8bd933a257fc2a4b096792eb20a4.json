{"ast":null,"code":"import { timer } from 'rxjs';\nimport { PizarraCereal } from '../models/model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/cotizacion-cereal.service\";\nimport * as i2 from \"../core/services/config.service\";\nimport * as i3 from \"../el-tiempo/el-tiempo.component\";\nimport * as i4 from \"../divisa/divisa.component\";\nexport let IndexComponent = /*#__PURE__*/(() => {\n  class IndexComponent {\n    constructor(cotizacionCerealservice, configService) {\n      this.cotizacionCerealservice = cotizacionCerealservice;\n      this.configService = configService;\n      this.pizarraDisponible = new PizarraCereal();\n      this.pizarraForward = new PizarraCereal();\n    }\n\n    ngOnInit() {\n      this.populate(); //Actualizar Cada un minuto   \n\n      const source = timer(1000, 60000);\n      source.subscribe(res => this.populate());\n    }\n\n    populate() {\n      let fecha = new Date();\n      let idMercado = \"001\";\n      this.cotizacionCerealservice.findPizarra(idMercado, fecha).subscribe(res => {\n        this.pizarraDisponible = this.transformData(res);\n      }, err => {\n        console.log(err);\n      });\n      idMercado = \"002\";\n      this.cotizacionCerealservice.findPizarra(idMercado, fecha).subscribe(res => {\n        this.pizarraForward = this.transformData(res);\n      }, err => {\n        console.log(err);\n      });\n    }\n\n    transformData(data) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n      let result = new PizarraCereal();\n      result.soja = ((_a = data.find(d => d.idCereal == \"23\")) === null || _a === void 0 ? void 0 : _a.precio) || 0;\n      result.sojaObs = ((_b = data.find(d => d.idCereal == \"23\")) === null || _b === void 0 ? void 0 : _b.obs) || \"\";\n      result.maiz = ((_c = data.find(d => d.idCereal == \"19\")) === null || _c === void 0 ? void 0 : _c.precio) || 0;\n      result.maizObs = ((_d = data.find(d => d.idCereal == \"19\")) === null || _d === void 0 ? void 0 : _d.obs) || \"\";\n      result.sorgo = ((_e = data.find(d => d.idCereal == \"22\")) === null || _e === void 0 ? void 0 : _e.precio) || 0;\n      result.sorgoObs = ((_f = data.find(d => d.idCereal == \"22\")) === null || _f === void 0 ? void 0 : _f.obs) || \"\";\n      result.girasol = ((_g = data.find(d => d.idCereal == \"02\")) === null || _g === void 0 ? void 0 : _g.precio) || 0;\n      result.girasolObs = ((_h = data.find(d => d.idCereal == \"02\")) === null || _h === void 0 ? void 0 : _h.obs) || \"\";\n      result.trigo = ((_j = data.find(d => d.idCereal == \"15\")) === null || _j === void 0 ? void 0 : _j.precio) || 0;\n      result.trigoObs = ((_k = data.find(d => d.idCereal == \"15\")) === null || _k === void 0 ? void 0 : _k.obs) || \"\";\n      return result;\n    }\n\n  }\n\n  IndexComponent.ɵfac = function IndexComponent_Factory(t) {\n    return new (t || IndexComponent)(i0.ɵɵdirectiveInject(i1.CotizacionCerealService), i0.ɵɵdirectiveInject(i2.ConfigService));\n  };\n\n  IndexComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: IndexComponent,\n    selectors: [[\"app-index\"]],\n    decls: 68,\n    vars: 12,\n    consts: [[1, \"container-fluid\", \"pt-xl-4\", \"pl-xl-4\", \"pr-xl-4\"], [1, \"row\", \"row-first\", \"text-light\"], [1, \"col-xl-5\"], [1, \"table\", \"text-light\"], [1, \"display-6\"], [1, \"col-xl-7\"], [1, \"display-7\"], [1, \"row\", \"text-light\"], [1, \"display-4\"], [\"id\", \"tiempo\", 1, \"col-8\"], [\"idMoneda\", \"002\"]],\n    template: function IndexComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4, \"Mercado Disponible\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"table\", 3);\n        i0.ɵɵelementStart(6, \"tr\");\n        i0.ɵɵelementStart(7, \"td\", 4);\n        i0.ɵɵtext(8, \"Soja\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"td\", 4);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"tr\");\n        i0.ɵɵelementStart(12, \"td\", 4);\n        i0.ɵɵtext(13, \"Maiz\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"td\", 4);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"tr\");\n        i0.ɵɵelementStart(17, \"td\", 4);\n        i0.ɵɵtext(18, \"Trigo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"td\", 4);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"tr\");\n        i0.ɵɵelementStart(22, \"td\", 4);\n        i0.ɵɵtext(23, \"Sorgo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"td\", 4);\n        i0.ɵɵtext(25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 5);\n        i0.ɵɵelementStart(27, \"h1\");\n        i0.ɵɵtext(28, \"Mercado Forward\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"table\", 3);\n        i0.ɵɵelementStart(30, \"tr\");\n        i0.ɵɵelementStart(31, \"td\", 4);\n        i0.ɵɵtext(32, \"Soja\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"td\", 4);\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"td\", 4);\n        i0.ɵɵtext(36);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"tr\");\n        i0.ɵɵelementStart(38, \"td\", 4);\n        i0.ɵɵtext(39, \"Maiz\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"td\", 4);\n        i0.ɵɵtext(41);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"td\", 6);\n        i0.ɵɵtext(43);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"tr\");\n        i0.ɵɵelementStart(45, \"td\", 4);\n        i0.ɵɵtext(46, \"Trigo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"td\", 4);\n        i0.ɵɵtext(48);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"td\", 6);\n        i0.ɵɵtext(50);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"tr\");\n        i0.ɵɵelementStart(52, \"td\", 4);\n        i0.ɵɵtext(53, \"Sorgo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"td\", 4);\n        i0.ɵɵtext(55);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"td\", 6);\n        i0.ɵɵtext(57);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"div\", 7);\n        i0.ɵɵelementStart(59, \"div\", 2);\n        i0.ɵɵelementStart(60, \"h1\", 8);\n        i0.ɵɵtext(61, \"El Tiempo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"div\", 9);\n        i0.ɵɵelement(63, \"app-el-tiempo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"div\", 5);\n        i0.ɵɵelementStart(65, \"h1\", 4);\n        i0.ɵɵtext(66, \"Divisas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(67, \"app-divisa\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.pizarraDisponible.soja);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.pizarraDisponible.maiz);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.pizarraDisponible.trigo);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.pizarraDisponible.sorgo);\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\"U$S \", ctx.pizarraForward.soja, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.pizarraForward.sojaObs);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"U$S \", ctx.pizarraForward.maiz, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.pizarraForward.maizObs);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"U$S \", ctx.pizarraForward.trigo, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.pizarraForward.trigoObs);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"U$S \", ctx.pizarraForward.sorgo, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.pizarraForward.sorgoObs);\n      }\n    },\n    directives: [i3.ElTiempoComponent, i4.DivisaComponent],\n    styles: [\".row-first[_ngcontent-%COMP%]{height:60%;overflow:hidden}.board[_ngcontent-%COMP%]{background-color:#323232;text-align:center;padding:0}\"]\n  });\n  return IndexComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}